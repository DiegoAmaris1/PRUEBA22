<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‚úÖ Acceso Concedido - Diego Amaris</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: linear-gradient(135deg, #0d1117 0%, #1a1d2e 100%);
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  color: white;
}

.container {
  max-width: 600px;
  width: 100%;
  text-align: center;
}

/* Success animation */
.success-animation {
  width: 120px;
  height: 120px;
  margin: 0 auto 30px;
  background: linear-gradient(135deg, #f06e49 0%, #ff8a6b 100%);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  animation: scaleIn 0.5s ease-out;
  box-shadow: 0 20px 60px rgba(240, 110, 73, 0.4);
}

@keyframes scaleIn {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); opacity: 1; }
}

.checkmark {
  font-size: 64px;
  animation: checkmarkPop 0.6s ease-out 0.3s both;
}

@keyframes checkmarkPop {
  0% { transform: scale(0); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

/* Card */
.card {
  background: rgba(26, 29, 46, 0.8);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(240, 110, 73, 0.2);
  border-radius: 24px;
  padding: 50px 40px;
  box-shadow: 0 25px 70px rgba(0, 0, 0, 0.5);
  animation: slideUp 0.6s ease-out 0.2s both;
}

@keyframes slideUp {
  0% { transform: translateY(30px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

h1 {
  font-size: 36px;
  font-weight: 800;
  margin-bottom: 15px;
  background: linear-gradient(135deg, #ffffff 0%, #e0e0e0 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.welcome-text {
  color: #a0a0a0;
  font-size: 18px;
  margin-bottom: 40px;
}

/* User info */
.user-info {
  background: rgba(240, 110, 73, 0.1);
  border: 1px solid rgba(240, 110, 73, 0.2);
  border-radius: 16px;
  padding: 30px;
  margin-bottom: 35px;
}

.user-photo {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  margin: 0 auto 20px;
  border: 4px solid rgba(240, 110, 73, 0.3);
  object-fit: cover;
  background: rgba(255, 255, 255, 0.1);
}

.user-name {
  font-size: 28px;
  font-weight: 700;
  color: #ffffff;
  margin-bottom: 8px;
}

.user-email {
  color: #a0a0a0;
  font-size: 16px;
  margin-bottom: 20px;
}

.linkedin-link {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 24px;
  background: rgba(0, 119, 181, 0.2);
  border: 1px solid rgba(0, 119, 181, 0.4);
  border-radius: 12px;
  color: #0077B5;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
}

.linkedin-link:hover {
  background: rgba(0, 119, 181, 0.3);
  transform: translateY(-2px);
}

/* Benefits */
.benefits {
  text-align: left;
  margin-bottom: 35px;
}

.benefits-title {
  color: #f06e49;
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 20px;
  text-align: center;
}

.benefit-item {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 16px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 12px;
  margin-bottom: 12px;
  transition: all 0.3s ease;
}

.benefit-item:hover {
  background: rgba(255, 255, 255, 0.05);
  transform: translateX(5px);
}

.benefit-icon {
  width: 36px;
  height: 36px;
  background: linear-gradient(135deg, #f06e49 0%, #ff8a6b 100%);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  flex-shrink: 0;
}

.benefit-text {
  color: #e0e0e0;
  font-size: 15px;
  font-weight: 500;
}

/* CTA Button */
.cta-button {
  display: inline-block;
  padding: 18px 40px;
  background: linear-gradient(135deg, #f06e49 0%, #ff8a6b 100%);
  border: none;
  border-radius: 14px;
  color: white;
  font-size: 18px;
  font-weight: 700;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 10px 30px rgba(240, 110, 73, 0.4);
}

.cta-button:hover {
  transform: translateY(-3px);
  box-shadow: 0 15px 40px rgba(240, 110, 73, 0.5);
}

/* Error state */
.error-container {
  background: rgba(255, 68, 68, 0.1);
  border: 1px solid rgba(255, 68, 68, 0.3);
  border-radius: 16px;
  padding: 30px;
  margin-bottom: 20px;
}

.error-icon {
  font-size: 64px;
  margin-bottom: 20px;
}

.error-title {
  color: #ff4444;
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 10px;
}

.error-message {
  color: #a0a0a0;
  font-size: 16px;
  margin-bottom: 20px;
}

.retry-button {
  display: inline-block;
  padding: 14px 30px;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
}

.retry-button:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
}

/* Loader */
.loader {
  display: inline-block;
  width: 80px;
  height: 80px;
  border: 6px solid rgba(255, 255, 255, 0.1);
  border-top: 6px solid #f06e49;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 40px auto;
}

@keyframes spin {
  100% { transform: rotate(360deg); }
}

.loading-text {
  color: #a0a0a0;
  font-size: 18px;
  margin-top: 20px;
}

/* Responsive */
@media (max-width: 600px) {
  .card {
    padding: 40px 25px;
  }
  
  h1 {
    font-size: 28px;
  }
  
  .user-name {
    font-size: 24px;
  }
}
</style>
</head>
<body>

<div class="container">
  <div class="card">
    <!-- Estado de carga -->
    <div id="loading-state">
      <div class="loader"></div>
      <p class="loading-text">Procesando autenticaci√≥n...</p>
    </div>

    <!-- Estado de √©xito -->
    <div id="success-state" style="display: none;">
      <div class="success-animation">
        <div class="checkmark">‚úì</div>
      </div>
      
      <h1>¬°Bienvenido!</h1>
      <p class="welcome-text">Tu acceso ha sido concedido exitosamente</p>
      
      <div class="user-info">
        <img id="user-photo" class="user-photo" src="" alt="Foto de perfil">
        <div id="user-name" class="user-name">Cargando...</div>
        <div id="user-email" class="user-email">Cargando...</div>
        <a id="linkedin-profile" class="linkedin-link" href="#" target="_blank">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
          </svg>
          Ver perfil de LinkedIn
        </a>
      </div>
      
      <div class="benefits">
        <div class="benefits-title">üéØ Ahora tienes acceso a:</div>
        <div class="benefit-item">
          <div class="benefit-icon">üìä</div>
          <div class="benefit-text">Calculadora de ahorro de tiempo</div>
        </div>
        <div class="benefit-item">
          <div class="benefit-icon">‚ö°</div>
          <div class="benefit-text">Herramientas de automatizaci√≥n</div>
        </div>
        <div class="benefit-item">
          <div class="benefit-icon">üíº</div>
          <div class="benefit-text">Casos de √©xito de tu industria</div>
        </div>
        <div class="benefit-item">
          <div class="benefit-icon">üéÅ</div>
          <div class="benefit-text">Diagn√≥stico financiero gratuito</div>
        </div>
      </div>
      
      <a href="index.html" class="cta-button">üöÄ Comenzar ahora</a>
    </div>

    <!-- Estado de error -->
    <div id="error-state" style="display: none;">
      <div class="error-container">
        <div class="error-icon">‚ùå</div>
        <div class="error-title">Error de autenticaci√≥n</div>
        <div id="error-message" class="error-message">
          Hubo un problema al procesar tu solicitud.
        </div>
        <a href="acceso.html" class="retry-button">‚Üê Volver a intentar</a>
      </div>
    </div>
  </div>
</div>

<script>
// Funci√≥n para obtener par√°metros de URL
function getUrlParameter(name) {
  const params = new URLSearchParams(window.location.search);
  return params.get(name);
}

// Procesar respuesta
window.addEventListener('load', function() {
  // Verificar si hay error
  const isError = getUrlParameter('error');
  
  if (isError === 'true') {
    // Mostrar estado de error
    document.getElementById('loading-state').style.display = 'none';
    document.getElementById('error-state').style.display = 'block';
    
    const errorMessage = getUrlParameter('message') || 'Error desconocido';
    document.getElementById('error-message').textContent = errorMessage;
    
  } else {
    // Obtener datos del usuario
    const name = getUrlParameter('name');
    const email = getUrlParameter('email');
    const linkedin = getUrlParameter('linkedin');
    const picture = getUrlParameter('picture');
    
    // Verificar que tengamos al menos el nombre
    if (name) {
      // Ocultar loading, mostrar √©xito
      setTimeout(function() {
        document.getElementById('loading-state').style.display = 'none';
        document.getElementById('success-state').style.display = 'block';
        
        // Actualizar informaci√≥n del usuario
        document.getElementById('user-name').textContent = name;
        document.getElementById('user-email').textContent = email || 'Email no disponible';
        
        // Actualizar foto de perfil
        const photoElement = document.getElementById('user-photo');
        if (picture && picture !== 'undefined' && picture !== '') {
          photoElement.src = picture;
          photoElement.style.display = 'block';
        } else {
          // Si no hay foto, mostrar iniciales
          photoElement.style.display = 'none';
        }
        
        // Actualizar link de LinkedIn
        const linkedinLink = document.getElementById('linkedin-profile');
        if (linkedin && linkedin !== 'N/A') {
          linkedinLink.href = linkedin;
        } else {
          linkedinLink.style.display = 'none';
        }
        
      }, 1000);
      
    } else {
      // No hay datos v√°lidos
      document.getElementById('loading-state').style.display = 'none';
      document.getElementById('error-state').style.display = 'block';
      document.getElementById('error-message').textContent = 
        'No se recibieron datos de autenticaci√≥n v√°lidos.';
    }
  }
});
</script>

</body>
</html>